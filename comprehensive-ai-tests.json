{
  "test_suite": "Comprehensive AI Extraction Edge Cases",
  "test_date": "2025-12-17",
  "tests": [
    {
      "id": "test_01_recurring_event",
      "category": "Recurring Events",
      "description": "Every Friday club night",
      "input": {
        "caption": "FREAKY FRIDAY üéâ Every Friday night at XX XX! Resident DJs spinning the best tracks. 10PM onwards. ‚Ç±500 presale / ‚Ç±800 door",
        "locationHint": "XX XX Makati",
        "postId": "test-recurring-01",
        "postedAt": "2025-12-17T10:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "isRecurring": true,
        "recurrencePattern": "weekly:friday",
        "eventDate": "2025-12-19",
        "eventTime": "22:00:00",
        "confidence": ">0.8"
      }
    },
    {
      "id": "test_02_multi_day_range",
      "category": "Multi-day Events",
      "description": "Date range Dec 12-13",
      "input": {
        "caption": "WEEKEND FESTIVAL! December 12-13, 2025 at SM Mall of Asia Concert Grounds. Two days of music, art, and fun! ‚Ç±1500 weekend pass",
        "locationHint": "SM Mall of Asia",
        "postId": "test-multiday-01",
        "postedAt": "2025-12-10T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-12",
        "eventEndDate": "2025-12-13",
        "isRecurring": false,
        "confidence": ">0.85"
      }
    },
    {
      "id": "test_03_midnight_crossing",
      "category": "Multi-day Events",
      "description": "Event crossing midnight",
      "input": {
        "caption": "ALL NIGHTER! December 20, 10PM - 4AM. The party continues till sunrise! ‚Ç±600 entrance",
        "locationHint": "Poblacion Social Club",
        "postId": "test-midnight-01",
        "postedAt": "2025-12-15T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-20",
        "eventTime": "22:00:00",
        "endTime": "04:00:00",
        "eventEndDate": "2025-12-21",
        "confidence": ">0.85"
      }
    },
    {
      "id": "test_04_dd_mm_format",
      "category": "Date Formats",
      "description": "European date format DD.MM.YYYY",
      "input": {
        "caption": "Join us! 05.12.2025 at Poblacion. Big night ahead!",
        "locationHint": null,
        "postId": "test-dateformat-01",
        "postedAt": "2025-11-30T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-05",
        "reasoning_contains": "DD.MM format",
        "confidence": ">0.75"
      }
    },
    {
      "id": "test_05_filipino_date",
      "category": "Filipino Language",
      "description": "Filipino date: ika-5 ng Disyembre",
      "input": {
        "caption": "Tara na! Ika-5 ng Disyembre, 2025. Gabi natin sa The Social! Libre ang entrance!",
        "locationHint": "The Social",
        "postId": "test-filipino-01",
        "postedAt": "2025-12-01T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-05",
        "isFree": true,
        "price": null,
        "confidence": ">0.8"
      }
    },
    {
      "id": "test_06_filipino_time",
      "category": "Filipino Language",
      "description": "Filipino time: alas-7 ng gabi",
      "input": {
        "caption": "Bukas! December 18. Alas-7 ng gabi sa BGC. Kita kits!",
        "locationHint": "BGC",
        "postId": "test-filipino-02",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-18",
        "eventTime": "19:00:00",
        "confidence": ">0.8"
      }
    },
    {
      "id": "test_07_free_event",
      "category": "Price Detection",
      "description": "Free event with explicit language",
      "input": {
        "caption": "FREE ADMISSION! December 25, Christmas Party at The Park. No cover charge. Everyone welcome!",
        "locationHint": "The Park",
        "postId": "test-price-01",
        "postedAt": "2025-12-15T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "isFree": true,
        "price": null,
        "eventDate": "2025-12-25"
      }
    },
    {
      "id": "test_08_price_range",
      "category": "Price Detection",
      "description": "Price range with presale",
      "input": {
        "caption": "NEW YEAR'S EVE BASH! Dec 31. ‚Ç±800 presale / ‚Ç±1200 door. Get tickets now!",
        "locationHint": "Valkyrie Nightclub",
        "postId": "test-price-02",
        "postedAt": "2025-12-15T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "isFree": false,
        "price": 800,
        "priceMin": 800,
        "priceMax": 1200,
        "eventDate": "2025-12-31"
      }
    },
    {
      "id": "test_09_operating_hours_not_event",
      "category": "NOT AN EVENT",
      "description": "Operating hours schedule",
      "input": {
        "caption": "We're open! 6PM ‚Äî Tuesdays to Saturdays. Come visit us for drinks and good vibes! üçπ",
        "locationHint": "The Backroom",
        "postId": "test-notevent-01",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": false,
        "reasoning_contains": "operating hours",
        "confidence": "<0.6"
      }
    },
    {
      "id": "test_10_menu_not_event",
      "category": "NOT AN EVENT",
      "description": "Drink menu pricing",
      "input": {
        "caption": "Our drink specials! Beer ‚Ç±100, Cocktails ‚Ç±250, Shots ‚Ç±150. Available daily!",
        "locationHint": "The Social House",
        "postId": "test-notevent-02",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": false,
        "reasoning_contains": "rate sheet",
        "confidence": "<0.6"
      }
    },
    {
      "id": "test_11_past_event_throwback",
      "category": "Past Events",
      "description": "Throwback post about past event",
      "input": {
        "caption": "What an amazing night last Saturday! Thanks everyone who came out. Can't wait for the next one! üì∏",
        "locationHint": "XX XX",
        "postId": "test-past-01",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": false,
        "reasoning_contains": "past event",
        "confidence": "<0.5"
      }
    },
    {
      "id": "test_12_relative_date_tomorrow",
      "category": "Relative Dates",
      "description": "Tomorrow from post date",
      "input": {
        "caption": "TOMORROW NIGHT! DJ set starting 9PM. Be there! ‚Ç±400 entrance",
        "locationHint": "The Grid",
        "postId": "test-relative-01",
        "postedAt": "2025-12-17T10:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-18",
        "eventTime": "21:00:00",
        "confidence": ">0.8"
      }
    },
    {
      "id": "test_13_this_weekend",
      "category": "Relative Dates",
      "description": "This weekend calculation",
      "input": {
        "caption": "THIS WEEKEND! Saturday night party at Poblacion. Doors at 10PM. ‚Ç±500",
        "locationHint": "Poblacion",
        "postId": "test-relative-02",
        "postedAt": "2025-12-17T10:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-21",
        "eventTime": "22:00:00",
        "confidence": ">0.8"
      }
    },
    {
      "id": "test_14_sold_out",
      "category": "Availability Status",
      "description": "Sold out event",
      "input": {
        "caption": "SOLD OUT! December 20 concert at Smart Araneta. Join the waitlist for cancellations.",
        "locationHint": "Smart Araneta Coliseum",
        "postId": "test-status-01",
        "postedAt": "2025-12-15T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "availabilityStatus": "sold_out",
        "eventDate": "2025-12-20"
      }
    },
    {
      "id": "test_15_secret_location",
      "category": "Location Status",
      "description": "Secret venue",
      "input": {
        "caption": "December 22 underground party. Secret location - DM for address. 10PM. ‚Ç±600",
        "locationHint": null,
        "postId": "test-location-01",
        "postedAt": "2025-12-15T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2025-12-22",
        "locationStatus": "dm_for_details",
        "locationName": null
      }
    },
    {
      "id": "test_16_reschedule",
      "category": "Event Updates",
      "description": "Rescheduled event",
      "input": {
        "caption": "IMPORTANT: Event RESCHEDULED! Originally Dec 15, now moved to December 22 due to typhoon. Same venue, same lineup!",
        "locationHint": "Circuit Makati",
        "postId": "test-update-01",
        "postedAt": "2025-12-14T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "isUpdate": true,
        "updateType": "reschedule",
        "eventDate": "2025-12-22",
        "originalDate": "2025-12-15",
        "reason": "weather"
      }
    },
    {
      "id": "test_17_cancelled",
      "category": "Event Updates",
      "description": "Cancelled event",
      "input": {
        "caption": "EVENT CANCELLED. Unfortunately we have to cancel the December 18 show. Refunds available.",
        "locationHint": "The Palace",
        "postId": "test-update-02",
        "postedAt": "2025-12-16T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "isUpdate": true,
        "updateType": "cancel",
        "eventDate": "2025-12-18"
      }
    },
    {
      "id": "test_18_time_ambiguity_club",
      "category": "Time Inference",
      "description": "Club event - infer PM",
      "input": {
        "caption": "PARTY TONIGHT! Doors open 9. DJ lineup announced! December 17 at XX XX",
        "locationHint": "XX XX Makati",
        "postId": "test-time-01",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventTime": "21:00:00",
        "reasoning_contains": "club"
      }
    },
    {
      "id": "test_19_time_ambiguity_market",
      "category": "Time Inference",
      "description": "Market event - infer AM",
      "input": {
        "caption": "Sunday Market! December 21 starting 8. Fresh produce, crafts, food! See you there üåû",
        "locationHint": "Salcedo Market",
        "postId": "test-time-02",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventTime": "08:00:00",
        "reasoning_contains": "market"
      }
    },
    {
      "id": "test_20_year_inference",
      "category": "Date Inference",
      "description": "Posted in Dec, Jan date = next year",
      "input": {
        "caption": "NEW YEAR NEW VIBES! January 5 party at The Grid. Start 2026 right! üéâ",
        "locationHint": "The Grid",
        "postId": "test-year-01",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "eventDate": "2026-01-05"
      }
    },
    {
      "id": "test_21_no_date_high_quality",
      "category": "Missing Data",
      "description": "Good info but no date",
      "input": {
        "caption": "BIG ANNOUNCEMENT! Amazing lineup coming to Philippine Arena. Tickets on sale soon! üé§",
        "locationHint": "Philippine Arena",
        "postId": "test-missing-01",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": false,
        "eventDate": null,
        "confidence": "<0.6",
        "reasoning_contains": "no specific date"
      }
    },
    {
      "id": "test_22_price_tiers",
      "category": "Price Detection",
      "description": "Multiple price tiers",
      "input": {
        "caption": "December 25 MEGA PARTY! Tickets: ‚Ç±500 GA / ‚Ç±1500 VIP / ‚Ç±3000 VVIP. Book now!",
        "locationHint": "Okada Manila",
        "postId": "test-price-03",
        "postedAt": "2025-12-15T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "priceMin": 500,
        "priceMax": 3000,
        "priceNotes": "GA ‚Ç±500, VIP ‚Ç±1500"
      }
    },
    {
      "id": "test_23_conditional_free",
      "category": "Price Detection",
      "description": "Free before certain time",
      "input": {
        "caption": "Ladies Night Dec 20! Free entrance before 11PM, ‚Ç±300 after. Doors at 9PM",
        "locationHint": "The Palace Pool Club",
        "postId": "test-price-04",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": true,
        "priceMin": 0,
        "priceMax": 300,
        "priceNotes": "Free before 11PM"
      }
    },
    {
      "id": "test_24_product_launch_not_event",
      "category": "NOT AN EVENT",
      "description": "Product announcement",
      "input": {
        "caption": "NEW MENU ITEMS! Try our latest creations. Now available! Order online or visit us. üçï",
        "locationHint": "Pizza Place",
        "postId": "test-notevent-03",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": false,
        "reasoning_contains": "product"
      }
    },
    {
      "id": "test_25_teaser_no_details",
      "category": "NOT AN EVENT",
      "description": "Coming soon teaser",
      "input": {
        "caption": "SOMETHING BIG COMING SOON... Stay tuned! üëÄ #watchthisspace",
        "locationHint": null,
        "postId": "test-notevent-04",
        "postedAt": "2025-12-17T08:00:00+00:00"
      },
      "expected": {
        "isEvent": false,
        "reasoning_contains": "teaser"
      }
    }
  ]
}
